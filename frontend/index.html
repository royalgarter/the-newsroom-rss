<!DOCTYPE html>
<html amp lang="en" class="scroll-smooth overflow-x-hidden">
	<head x-data="alpineHead()">
		<title x-html="title">The Newsroom RSS</title>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="color-scheme" content="light dark">
		<meta name="description" :content="description" content="We just decided: The first step in fixing the world is to Be Informed. Get curated news, delivered your way: fast, personalized RSS.">
		<meta name="keywords" content="news, rss, feed, aggregator, reader, alpinejs, tailwindcss">

		<link rel="canonical" :href="host">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="manifest" href="/manifest.json">

		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

		<meta name="theme-color" content="#2b7fff">
		<meta name="application-name" :content="title" content="The Newsroom RSS">
		<meta name="msapplication-TileColor" content="#fefefe">
		<meta name="apple-mobile-web-app-status-bar-style" content="#2b7fff">
		<meta name="apple-mobile-web-app-title" :content="title">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">
		<meta property="og:title" :content="title" content="The Newsroom RSS">
		<meta property="og:description" :content="description" content="We just decided: The first step in fixing the world is to Be Informed. Get curated news, delivered your way: fast, personalized RSS.">
		<meta property="og:image" :content="host + '/screenshots/the-newsroom-rss_600x315.png'" content="/screenshots/the-newsroom-rss_600x315.png">
		<meta property="og:image:secure_url" :content="host + '/screenshots/the-newsroom-rss_600x315.png'" content="/screenshots/the-newsroom-rss_600x315.png">
		<meta property="og:image:alt" :content="host + '/screenshots/the-newsroom-rss_600x315.png'">
		<meta property="og:image:width" content="600">
		<meta property="og:image:height" content="315">
		<meta property="og:url" :content="host + ''">
		<meta property="og:type" content="website">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" :content="title" content="The Newsroom RSS">
		<meta name="twitter:title" :content="title" content="The Newsroom RSS">
		<meta name="twitter:description" :content="description" content="We just decided: The first step in fixing the world is to Be Informed. Get curated news, delivered your way: fast, personalized RSS.">
		<meta name="twitter:url" :content="host + ''">
		<meta name="twitter:image" :content="host + '/screenshots/the-newsroom-rss_600x315.png'">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:creator" content="@royalgarter">

		<meta name="referrer" content="no-referrer-when-downgrade">
		<meta name="Cross-Origin-Opener-Policy" content="same-origin-allow-popups">

		<!-- <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript> -->

		<!-- <link rel="preload" as="script" href="//cdn.jsdelivr.net/npm/@tailwindcss/browser@4" /> -->
		<!-- <script src="//cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script> -->
		<!-- <link rel="stylesheet" href="https://cdn.tailwind-lite.com/2.0.1.css" /> -->

		<!-- <link rel="preload" as="script" href="//unpkg.com/alpinejs-component@latest/dist/component.min.js" /> -->
		<link rel="preload" as="script" href="//cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js" />
		<link rel="preload" as="script" href="//cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" />
		<!-- <script defer src="//unpkg.com/alpinejs-component@latest/dist/component.min.js"></script> -->
		<script defer src="//cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
		<script defer src="//cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

		<link rel="preload" as="script" href="//cdn.jsdelivr.net/npm/@mozilla/readability@0.x.x/Readability.min.js" />
		<script async defer src="//cdn.jsdelivr.net/npm/@mozilla/readability@0.x.x/Readability.min.js"></script>

		<link rel="preload" as="script" href="//accounts.google.com/gsi/client" />
		<script async defer src="//accounts.google.com/gsi/client"></script>

		<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/easymde/dist/easymde.min.css" />
		<script async defer src="//cdn.jsdelivr.net/npm/easymde/dist/easymde.min.js"></script>

		<!-- <link rel="preload" as="script" href="//cdn.ampproject.org/v0.js" /> -->
		<!-- <script async defer src="//cdn.ampproject.org/v0.js"></script> -->

		<!-- <script src="//cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script> -->
		<!-- <script src="//cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder"></script> -->
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-SF3W5SZ5PM"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'G-SF3W5SZ5PM');
		</script>

		<link rel="stylesheet" type="text/css" href="index.css?v=1.11">
		<script id="version" src="index.js?v=1.11"></script>
		<script type="module" src="./js/module.mjs"></script>

		<script type="module">
			import { embeddingText } from "./js/llm.mjs";
			window.embeddingText = embeddingText;

			import { hclust } from "./js/hclust.mjs";
			window.hclust = hclust;
		</script>

	</head>
	<body x-cloak x-data="alpineRSS()" class="bg-gray-50 dark:bg-gray-900 min-h-screen flex flex-col overflow-x-hidden">
		<template id="tpl_header" x-if="ready">
			<header class="bg-blue-600 dark:bg-blue-800 p-4 text-stone-100 text-center flex items-center justify-between max-w-auto">
				<img width="32" height="32"
					id="img-profile"
					@click="clickedProfile()"
					:src="profile?.picture || '/default-profile-64x64.png'"
					:alt="profile?.picture ? 'Back to Anonymous' : 'Sync with Google'"
					:title="profile?.picture ? 'Back to Anonymous' : 'Sync with Google'"
					class="self-center w-8 h-8 pb-1 rounded-full cursor-pointer"
					onerror="this.src = '/default-profile-64x64.png';">
				<a id="anchor_home" href="#home" name="home" class="scroll-smooth"></a>
				<h1 class="mx-auto text-center text-2xl font-bold"
					:class="loading ? 'animate-pulse italic' : 'cursor-pointer'"
					x-html="title"
					@click="if (loading) {
						window.scrollTo({ top: 0, behavior: 'smooth' });
						location.hash = '';
					} else {
						location.hash = '';

						if ('single_view' == params?.f) {
							const url = new URL(location);
							url.searchParams.delete('f');
							url.searchParams.delete('u');
							location.href = url.toString();
						} else {
							location.reload();
						}
					}
					"
				></h1>

				<button class="rounded-md focus:outline-none focus:shadow-outline-purple cursor-pointe" 
					@click="toggleDarkMode()" 
					aria-label="Toggle Dark Mode">
					<svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
						:class="{'hidden': dark}">
						<path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
					</svg>
					<svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
						:class="{'hidden': !dark}">
						<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
					</svg>
				</button>

			</header>
		</template>

		<div id='loading_bar' class="flex h-[2px] bg-blue-800 dark:bg-blue-600 transition-[width] duration-500 ease-in-out"
			:class="(loadingPercent > 0 && loadingPercent < 0.99) ? ('visible w-' + loadingFraction) : 'invisible'"
		></div>

		<main id="main" class="container mx-auto p-2 flex-1">
			<!-- feeds -->
			<template id="tpl_feeds" x-for="(feed, index) in feeds" :key="index">
				<section class="rss-feed relative bg-white dark:bg-gray-800 rounded mb-4"
					:class="style()?.shadow ? 'shadow' : ''"
					x-cloak
					x-show="!is_hide_feeds && (feed?.items?.length > 0)"
				>
					<span class="relative flex w-2 h-2" :class="(loading || feed.loading) ? 'visible' : 'invisible'">
						<span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-orange-400 opacity-75"></span>
						<span class="relative inline-flex w-2 h-2 rounded-full bg-orange-500"></span>
					</span>

					<!-- feed title -->
					<a target="_blank" class="rss-feed-anchor scroll-smooth"
						:title="feed.short_title"
						:name="feed.anchor" :href="('#' + feed.anchor) || feed.link || feed.rss_url"
					>
						<span class="inline-flex items-baseline pt-5 sm:pt-4 md:pt-8 px-3 sm:px-8 md:px-10">
							<!-- <a :href="feed.rss_url" target="_blank" class="inline-block"> -->
								<img width="24" height="24" class="rss-favicon self-center w-6 h-6 mr-2 md:mr-4 cursor-pointer"
									:alt="feed.rss_url || feed.title"
									:src="feed.favicon_url"
									onerror="this.src = '/favicons/ios/128.png';"
									@click="window.open(feed.rss_url)"
								/>
							<!-- </a> -->
							<h2 class="text-indigo-950 dark:text-indigo-200 text-xl font-bold mx-auto"
								:title="feed.rss_url"
								x-text="feed.short || feed.title">
							</h2>


						</span>
					</a>

					<!-- feed rss -->
					<div class="max-w-screen-2xl mx-auto px-3 sm:px-8 md:px-10  pt-3 sm:pt-4 md:pt-6  pb-18 sm:pb-18 md:pb-18">
						<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-6">
							<!-- rss-item -->
							<template x-for="(item, itemIndex) in feed.items.filter(x => !x?.disable)" :key="itemIndex">
								<div class="rss-item bg-slate-50 dark:bg-slate-700 rounded overflow-hidden relative"
									:class="[
										item.viewed ? 'opacity-90 italic' : '',
										style()?.shadow ? 'shadow' : '',
										style()?.preview ? 'pb-8' : '',
										'single_view' == params?.f ? 'col-span-full' : '',
									].join(' ')
									"
								>
									<!-- thumbnail -->
									<template x-if="style()?.img && item.image_thumb">
										<div class="rss-meta relative min-h-36">
											<a class="rss-thumb" 
												:href="'#' + item.anchor" 
												:name="item.anchor"
											>
												<!-- <link rel="prefetch" as="image" :href="item.image_thumb" /> -->
												<img width="320" height="320"
													class="rss-thumb w-full min-h-36 max-h-80"
													:loading="(index <= 1) ? 'eager' : 'lazy'"
													:fetchpriority="(index <= 1) ? 'high' : 'low'"
													:alt="item.title"
													:domain="new URL(feed.link).hostname"
													:src="item.image_thumb"
													onerror="this.src = 'https://www.google.com/s2/favicons?domain=' + this.getAttribute('domain') +'&sz=256';"
												/>
												<div
													class="hover:bg-transparent transition duration-300 absolute bottom-0 top-0 right-0 left-0 bg-gray-900 opacity-25">
												</div>
											</a>
											<a class="rss-tags" rel="author" x-show="item.author?.length" :href="item.link_author || item.link" target="_blank">
												<div class="absolute bottom-0 left-0 bg-indigo-600 dark:bg-indigo-400 px-2 py-1 text-white dark:text-gray-900 text-sm hover:bg-white dark:hover:bg-gray-700 hover:text-indigo-600 dark:hover:text-indigo-200 transition duration-500 ease-in-out"
													x-html="item.author_formatted">
												</div>
											</a>

											<a class="rss-author" :href="item.link" target="_blank">
												<div class="text-xs p-1 h-10 w-10 absolute top-0 right-0 bg-indigo-600 dark:bg-indigo-400 text-white dark:text-gray-900 rounded-full flex flex-col items-center justify-center mt-3 mr-2 hover:bg-white dark:hover:bg-gray-700 hover:text-indigo-600 dark:hover:text-indigo-200 transition duration-500 ease-in-out">
													<small class="break-words text-center"
														x-html="item.published_formatted">
													</small>
												</div>
											</a>
										</div>
									</template>

									<!-- title & description -->
									<div id="rss-item-title-desc" class="p-4 text-gray-400 dark:text-gray-300">
										<span x-show="item.viewed && style()?.preview" class="py-1 text-xs font-regular mr-1 flex flex-row items-center">
											<svg x-cloak fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
												<path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" />
											</svg>
											<span class="ml-1 text-gray-300 dark:text-gray-500" x-text="item.viewed"></span>
										</span>

										<div class="items-center">
											<a :href="item.link" target="_blank" class="text-blue-400 dark:text-blue-300 visited:text-purple-600">
												<svg fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
													class="rss-open-link w-4 h-4 cursor-pointer inline mb-1.5 opacity-75 hover:opacity-100"
													x-show="item.image_thumb && !style()?.img"
												>
													<path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
												</svg>
											</a>
											<a class="rss-title inline font-semibold max-w-full text-lg mb-2 hover:text-indigo-600 dark:hover:text-indigo-300 visited:text-fuchsia-800 transition duration-500 ease-in-out"

												:class="( item.image_thumb &&
															!style()?.img
														) ? 'pointer-events-none' : ''"
												:href="item.link" target="_blank"
												:title="item.title"
												x-html="item.title_formatted + (
															style()?.img ? '' : (item.published_formatted ? (' <sup class=&quot;text-xs text-gray-400 dark:text-gray-300 font-light&quot;>' + item.published_formatted + '</sup>') : '')
														)"
												rel="external"
											></a>
										</div>

										<template x-if="style()?.desc">
											<p class="rss-desc pt-3 text-gray-500 dark:text-gray-400 text-sm whitespace-pre-line break-words"
												x-html="item.description_formatted || item.description"
											>
											</p>
										</template>
									</div>

									<!-- item article -->
									<template x-if="style()?.preview">
										<div :id="'rss-item-article-' + index + '-' + itemIndex">
											<div class="cursor-pointer px-4 pb-1 flex flex-row items-center absolute bottom-0 left-0 w-full">
												<span class="py-1 text-xs font-regular flex flex-row items-center"
													@click="item.toggleReadmore()" 
													@mouseover="item.prefetchContent()"
													:class="[(item.article ? 'visible' : 'disable__invisible'), (item.read_more ? 'text-fuchsia-600' : 'text-teal-600')].join(' ')"
												>
													<svg x-cloak x-show="!item.read_more" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
													  <path stroke-linecap="round" stroke-linejoin="round" d="M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0-3.75-3.75M17.25 21 21 17.25" />
													</svg>
													<svg x-cloak x-show="item.read_more" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
														<path stroke-linecap="round" stroke-linejoin="round" d="M3 4.5h14.25M3 9h9.75M3 13.5h5.25m5.25-.75L17.25 9m0 0L21 12.75M17.25 9v12" />
													</svg>
													<span class="ml-1" x-text="item.read_more ? 'Collapse' : (item.prefetching && !item.no_article && !item.article?.content ? 'Preview loading' : 'Preview')"></span>
												</span>

												<span class="py-1 text-xs font-regular flex items-center cursor-pointer text-amber-600 dark:text-amber-400 ml-auto mr-3"
													@mouseover="item.prefetchContent()"
													@click="
														let share_url = item.article?.content?.length ? (location.origin + '/?f=single_view&u=' + item.link) : item.link;
														toast('Copied: ' + share_url);
														navigator?.clipboard?.writeText?.(share_url);
														( 
															item.article?.content?.length 
															&& navigator?.share?.({
																title: item.title || share_url,
																text: item.description || share_url,
																url: share_url,
															})
														) 
														|| window.open(share_url, '_blank');
													" 
												>
													<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
														<path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z" />
													</svg>
												</span>

												<span class="py-1 text-xs font-regular flex items-center cursor-pointer text-amber-600 dark:text-amber-400"
													@click="saveReadLater(item)"
												>
													<svg 
														x-cloak 
														:fill="item.read_later ? 'currentColor' : 'none'" 
														viewBox="0 0 24 24" 
														stroke-width="1.5" 
														stroke="currentColor" 
														class="w-4 h-4"
													>
														<path 
															stroke-linecap="round" 
															stroke-linejoin="round" 
															d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" 
														/>
													</svg>
												</span>
											</div>
											<template x-if="item.read_more">
												<div :class="item.read_more ? 'block' : 'hidden'"
													class="block sm:hidden px-4 py-2 flex flex-row items-center bg-amber-50 dark:bg-stone-800 transition-all transition-discrete"
												>
													<span class="py-1 text-xs font-regular text-gray-600 dark:text-gray-300 flex flex-row items-center">
														<p class="rss-article-content text-gray-500 dark:text-gray-400 text-sm whitespace-pre-line break-words" x-html="item.article?.content || ''">
														</p>
													</span>
												</div>
											</template>
										</div>
									</template>
								</div>
							</template>
						</div>

						<!-- feed footer -->
						<div class="absolute flex items-center justify-between w-full py-6" x-show="'single_view' != params?.f">
							<!-- feed tags -->
							<div id="feed_tags" class="">
								<svg viewBox="0 0 24 24" fill="currentColor"
									class="rss-feed-tag-svg w-6 h-6 cursor-pointer inline-flex text-slate-400 dark:text-slate-300 opacity-25 hover:opacity-100"
									@click="$el.nextElementSibling.classList.toggle('inline-flex')"
								>
									<path fill-rule="evenodd" d="M2.25 4.125c0-1.036.84-1.875 1.875-1.875h5.25c1.036 0 1.875.84 1.875 1.875V17.25a4.5 4.5 0 1 1-9 0V4.125Zm4.5 14.25a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z" clip-rule="evenodd" /><path d="M10.719 21.75h9.156c1.036 0 1.875-.84 1.875-1.875v-5.25c0-1.036-.84-1.875-1.875-1.875h-.14l-8.742 8.743c-.09.089-.18.175-.274.257ZM12.738 17.625l6.474-6.474a1.875 1.875 0 0 0 0-2.651L15.5 4.787a1.875 1.875 0 0 0-2.651 0l-.1.099V17.25c0 .126-.003.251-.01.375Z" />
								</svg>
								<div class="rss-feed-tag hidden space-x-2 pl-2 items-center text-sm text-slate-800">
									<template x-for="(tag, tagIndex) in feed.tags" :key="tagIndex">
										<div class="inline-flex justify-between bg-slate-200 px-1 rounded-sm">
											<div class="cursor-pointer w-5 h-5 pl-0.5 font-bold" @click="feed.toggleTag?.(tag)" >x</div>
											<div class="select-none pr-1" x-html="tag"></div>
										</div>
									</template>
									<div class="inline-flex justify-between bg-slate-300 pl-1 rounded-sm">
										<div class="cursor-pointer w-5 h-5 pr-1 text-center font-bold"
											@click="$el.nextElementSibling.classList.toggle('hidden')" >+</div>
										<input placeholder="new tag"
											class="hidden w-20 bg-slate-100 px-3 italic text-slate-600 placeholder-slate-600 focus:outline-none rounded-sm"
											@keyup.enter="feed.toggleTag?.($el.value); $el.value='';"
										/>
									</div>
								</div>
							</div>

							<!-- feed load more -->
							<span id="load_more"
								@click="feed.loadMore()"
								:class="feed.loadMore ? 'visible' : 'invisible'"
								class="pr-7 sm:pr-15 md:pr-20 text-sm font-bold italic flex items-center cursor-pointer text-slate-300 dark:text-slate-500 opacity-80 hover:opacity-100"
							>Read more</span>
						</div>

						<!-- feed article -->
						<template x-if="feed.read_more && feed.article">
							<div :id="'rss-feed-article-' + index" x-show="feed.read_more && feed.article"
								class="hidden sm:block grid grid-cols-1 gap-6 transition-all transition-discrete"
								:class="[
									style()?.shadow ? 'shadow' : '',
									'single_view' != params?.f ? 'pt-18' : 'pt-0',
								].join(' ')
								"
								x-intersect:leave="false && feed.read_more && feed.article && feed.read_more_item?.toggleReadmore()"
							>
								<div class="rounded overflow-hidden bg-amber-50 dark:bg-stone-800" :class="style()?.shadow ? 'shadow' : ''">
									<div class="px-4 py-2 flex flex-row items-center">
										<span class="py-1 text-xl font-bold flex flex-row items-center">
											<p class="rss-article-title text-gray-600 dark:text-gray-300 whitespace-pre-line break-words" x-html="feed.article?.title || ''">
											</p>
										</span>
									</div>
									<div class="px-4 py-2 flex flex-row items-center">
										<span class="py-1 text-sm font-regular flex flex-row items-center">
											<p class="rss-article-content text-gray-500 dark:text-gray-400 whitespace-pre-line break-words" x-html="feed.article?.content || ''">
											</p>
										</span>
									</div>
									<div @click="feed.read_more_item.toggleReadmore()" class="cursor-pointer p-2 flex flex-row items-center float-right">
										<span class="p-3 text-xs font-regular text-fuchsia-950 dark:text-fuchsia-200 flex flex-row items-center">
											<svg x-cloak fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
											  <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 18.75 7.5-7.5 7.5 7.5" />
											  <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 7.5-7.5 7.5 7.5" />
											</svg>
										</span>
									</div>
								</div>
							</div>
						</template>
					</div>
				</section>
			</template>

			<!-- expanders -->
			<div class="divide-y divide-slate-200 dark:divide-gray-700">

				<!-- readlater -->
				<div id="expander_readlater" x-data="{ expanded: (readlater?.items?.length || is_hide_feeds || !!~location.hash.search(/\#.*note/)) }" class="py-2">
					<a id="anchor_bookmarks" href="#bookmarks" name="bookmarks" class="scroll-smooth"></a>
					<h3 class="text-xl">
						<button
							id="collapse-title-03"
							type="button"
							class="cursor-pointer text-slate-600 dark:text-slate-300 flex items-center justify-between w-full text-left font-semibold py-2"
							:aria-expanded="expanded"
							aria-controls="collapse-03"
							@click="
								expanded = !expanded;
								Alpine.$data(document.querySelector('body')).is_hide_feeds = expanded;
								if (!expanded) {
									toast('Home feeds loading...');
									Alpine.$data(document.querySelector('body')).loadFeedsWithContent({limit:6});
									if (location.hash?.length) location.hash = '';
								}
							">
							<div>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 inline mb-1">
									<path stroke-linecap="round" stroke-linejoin="round" d="M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9" />
								</svg>
								<span x-html="'Bookmarks' + (readlater?.items?.length ? ' [' + readlater?.items?.length + ']' : '')" class="inline"></span>
							</div>

							<svg x-cloak class="fill-indigo-500 dark:fill-indigo-300 shrink-0 ml-8" width="16" height="16">
								<rect y="7" width="16" height="2" rx="1" class="transform origin-center transition duration-200 ease-out" :class="{'!rotate-180': expanded}" />
								<rect y="7" width="16" height="2" rx="1" class="transform origin-center rotate-90 transition duration-200 ease-out" :class="{'!rotate-180': expanded}" />
							</svg>
						</button>
					</h3>
					<div
						id="collapse-03"
						role="region"
						aria-labelledby="collapse-title-03"
						class="grid text-sm text-slate-600 dark:text-slate-300 overflow-hidden w-full transition-all duration-300 ease-in-out"
						:class="expanded ? 'grid-rows-[1fr]' : 'grid-rows-[0fr] hidden'"
						>
						<a id="anchor_bookmarks_note" href="#bookmarks_note" name="bookmarks_note" class="scroll-smooth"></a>
						<div x-data="{ expanded: !!~location.hash.search(/\#.*note/) }" class="m-auto p-4 sm:px-8 md:px-10 max-w-auto w-full rounded-md bg-gray-100 dark:bg-gray-800">
							<h4 class="text-lg font-semibold text-slate-600 dark:text-slate-300 cursor-pointer">
								<button class="flex items-center justify-between w-full text-left cursor-pointer"
									@click="
										expanded = !expanded;
										if (expanded) {
											location.hash = '#bookmarks_note';

											Alpine.$data(document.querySelector('#expander_settings')).expanded = false;

											const url = new URL(location);
											url.searchParams.delete('a');
											history.pushState({}, '', url.toString());
										};
										noteTitle = noteTitle || ('note_at_' + new Date().toLocaleString().replace(/\W+/g, '-'));
									"
								>
									<span>ðŸ–‰ Quick Note</span>
									<!-- <svg x-cloak class="fill-indigo-500 dark:fill-indigo-300 shrink-0 ml-8" width="16" height="16" :class="{'!rotate-180': expanded}">
										<rect y="7" width="16" height="2" rx="1" class="transform origin-center transition duration-200 ease-out" />
										<rect y="7" width="16" height="2" rx="1" class="transform origin-center rotate-90 transition duration-200 ease-out" />
									</svg> -->
								</button>
							</h4>
							<div x-show="expanded" class="mt-2">
								<input type="text" x-model="noteTitle" placeholder="Add a quick note" class="w-full bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
								<textarea id="noteContent" x-model="noteContent" placeholder="with supported Markdown syntax" class="w-full bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" rows="8"></textarea>
								<button @click="addNoteMarkdown()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md cursor-pointer">Markdown</button>
								<button @click="addNote()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md cursor-pointer">Save</button>
							</div>
						</div>
						<div id="readlater_items" x-show="readlater?.items?.length" class="m-auto my-4 p-3 sm:p-8 md:p-10 max-w-auto w-full rounded-md bg-gray-100 dark:bg-gray-800 grid grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3 gap-6">
							<!-- readlater item -->
							<template x-for="(item, itemIndex) in readlater.items" :key="itemIndex">
								<div class="rss-item bg-slate-50 dark:bg-slate-700 rounded overflow-hidden relative pb-8"
									:class="params?.s?.includes?.('shadow') ? 'shadow' : ''"
								>
									
									<!-- readlater thumbnail -->
									<template x-if="!item.is_note && style()?.img && item.image_thumb">
										<div class="rss-meta relative min-h-36"
											@click="location.hash = '#bookmark'+item.link?.replace(/(https?|[^\w\d])/g, '')"
										>
											<a :href="'#bookmark'+item.link?.replace(/(https?|[^\w\d])/g, '')"
												:name="'bookmark'+item.link?.replace(/(https?|[^\w\d])/g, '')" 
											>
												<img width="320" height="320"
													class="rss-thumb w-full min-h-36 max-h-80"
													:alt="item.title"
													:domain="new URL(item.link).hostname"
													:src="item.image_thumb"
													onerror="this.src = 'https://www.google.com/s2/favicons?domain=' + this.getAttribute('domain') +'&sz=256';"
												/>
											</a>
											<div
												class="hover:bg-transparent transition duration-300 absolute bottom-0 top-0 right-0 left-0 bg-gray-900 opacity-25">
											</div>
											<a class="rss-tags" rel="author" x-show="item.author?.length" :href="item.link_author || item.link" target="_blank">
												<div class="absolute bottom-0 left-0 bg-indigo-600 dark:bg-indigo-400 px-2 py-1 text-white dark:text-gray-900 text-sm hover:bg-white dark:hover:bg-gray-700 hover:text-indigo-600 dark:hover:text-indigo-200 transition duration-500 ease-in-out"
													x-html="item.author_formatted_short">
												</div>
											</a>
										</div>
									</template>
									<!-- readlater title & description -->
									<div class="p-4 text-gray-400 dark:text-gray-300">
										<span x-show="item.viewed" class="py-1 text-xs font-regular mr-1 flex flex-row items-center">
											<svg x-cloak fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
												<path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" />
											</svg>
											<span class="ml-1" x-text="item.viewed"></span>
										</span>
										<a class="rss-title inline font-semibold max-w-full text-lg mb-2 hover:text-indigo-600 dark:hover:text-indigo-300 visited:text-fuchsia-800 transition duration-500 ease-in-out"
											:class="( item.image_thumb &&
														!style()?.img
													) ? 'pointer-events-none' : ''"
											:href="item.link" target="_blank"
											:title="item.title"
											x-html="item.title_formatted + (
														(style()?.title && item.published_formatted)
															? (' <sup class=&quot;text-xs text-gray-400 dark:text-gray-300 font-light&quot;>[' + item.published_formatted + ']</sup>')
															: ''
													)"
											rel="external"
										>
										</a>
										<a :href="item.link" target="_blank" class="text-blue-400 dark:text-blue-300 visited:text-purple-600" x-show="!item.is_note">
											<svg fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
												class="rss-open-link w-4 h-4 cursor-pointer inline mb-1.5 opacity-75 hover:opacity-100"
											>
												<path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
											</svg>
										</a>
										<template x-if="style()?.desc">
											<p class="rss-desc pt-3 text-gray-500 dark:text-gray-400 text-sm whitespace-pre-line break-words"
												x-html="item.description_formatted || item.description"
											>
											</p>
										</template>
									</div>
									<!-- readlater article -->
									<div :id="'rss-item-readlater-article-' + itemIndex">
										<div class="cursor-pointer px-4 pb-1 flex flex-row items-center absolute bottom-0 left-0 w-full">
											<template x-if="item.is_note">
												<span @click="editNote(item)" class="py-1 text-xs font-regular flex items-center cursor-pointer text-teal-600 dark:text-teal-400">
													<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
														<path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
													</svg>
													<span class="ml-1">Edit</span>
												</span>
											</template>
											<template x-if="!item.is_note">
												<span class="py-1 text-xs font-regular flex flex-row items-center"
													:class="item.article ? 'visible' : 'disable__invisible'" :class="item.read_more ? 'text-fuchsia-600' : 'text-teal-600'"
													@mouseover="item.loadArticle?.()"
													@click="item.loadArticle?.(true);"
												>
													<svg x-cloak x-show="!item.read_more" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
													  <path stroke-linecap="round" stroke-linejoin="round" d="M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0-3.75-3.75M17.25 21 21 17.25" />
													</svg>
													<svg x-cloak x-show="item.read_more" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
														<path stroke-linecap="round" stroke-linejoin="round" d="M3 4.5h14.25M3 9h9.75M3 13.5h5.25m5.25-.75L17.25 9m0 0L21 12.75M17.25 9v12" />
													</svg>
													<span class="ml-1" x-text="item.read_more ? 'Collapse' : ((item.loading && !item.article?.content) ? 'Loading' : 'Content')"></span>
												</span>
											</template>
											<span @click="saveReadLater(item, true)" class="py-1 text-xs font-regular flex items-center cursor-pointer text-amber-600 dark:text-amber-400 ml-auto">
												<svg 
													x-cloak 
													viewBox="0 0 24 24" 
													stroke-width="1.5" 
													stroke="currentColor" 
													fill="currentColor"
													class="w-4 h-4"
												>
													<path 
														stroke-linecap="round" 
														stroke-linejoin="round" 
														d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" 
													/>
												</svg>
											</span>
										</div>
										<template x-if="item.read_more && item.article?.content">
											<div :class="item.read_more ? 'block' : 'hidden'"
												class="px-4 py-2 flex flex-row items-center bg-amber-50 dark:bg-stone-800 transition-all transition-discrete"
												x-intersect:leave="false && (item.read_more = false)"
											>
												<span class="py-1 text-xs font-regular text-gray-600 dark:text-gray-300 flex flex-row items-center">
													<p class="rss-article-content text-gray-500 dark:text-gray-400 text-sm whitespace-pre-line break-words" x-html="item.article?.content || ''">
													</p>
												</span>
											</div>
										</template>
									</div>
								</div>
							</template>
						</div>
						<div x-show="editingNote" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
							<div class="bg-white dark:bg-gray-800 p-6 rounded-lg w-11/12">
								<h4 class="text-lg font-semibold mb-4 text-slate-600 dark:text-slate-300">Edit Note</h4>
								<input type="text" x-model="editedTitle" placeholder="Note Title" class="w-full bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
								<textarea id="editedContent" x-model="editedContent" placeholder="Note Content" class="w-full bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" rows="25"></textarea>
								<div class="flex justify-end space-x-2 mt-4">
									<button @click="updateNoteMarkdown()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md cursor-pointer">Markdown</button>
									<button @click="updateNote()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md cursor-pointer">Save</button>
									<button @click="editingNote = null" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-md cursor-pointer">Cancel</button>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- settings -->
				<div id="expander_settings" x-data="{ expanded: !tasks?.length && !location.hash?.includes?.('note') }" class="py-2">
					<a id="anchor_settings" href="#settings" name="settings" class="scroll-smooth"></a>
					<h3 class="text-xl">
						<button
							id="collapse-title-01"
							type="button"
							class="cursor-pointer text-slate-600 dark:text-slate-300 flex items-center justify-between w-full text-left font-semibold py-2"
							@click="expanded = !expanded"
							:aria-expanded="expanded"
							aria-controls="collapse-01"
						>
							<div>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 inline mb-1">
									<path stroke-linecap="round" stroke-linejoin="round" d="M12.75 19.5v-.75a7.5 7.5 0 0 0-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
								</svg>

								<span x-html="'RSS Feeds Settings' + (tasks?.length ? ' [' + tasks.length + ']' : '') + (loading ? ' is loading' : '')" class="inline"></span>
							</div>

							<svg x-cloak class="fill-indigo-500 dark:fill-indigo-300 shrink-0 ml-8" width="16" height="16">
								<rect y="7" width="16" height="2" rx="1" class="transform origin-center transition duration-200 ease-out" :class="{'!rotate-180': expanded}" />
								<rect y="7" width="16" height="2" rx="1" class="transform origin-center rotate-90 transition duration-200 ease-out" :class="{'!rotate-180': expanded}" />
							</svg>
						</button>
					</h3>

					<div
						id="collapse-01"
						role="region"
						aria-labelledby="collapse-title-01"
						class="grid text-sm text-slate-600 dark:text-slate-300 overflow-hidden w-full transition-all duration-300 ease-in-out"
						:class="expanded ? 'grid-rows-[1fr]' : 'grid-rows-[0fr] hidden'"
						>
						<template x-if="ready">
							<div class="m-auto my-4 max-w-auto w-full rounded-md bg-gray-300 dark:bg-gray-700">
								<!-- Input -->
								<div class="text-lg bg-blue-500 dark:bg-blue-700 p-4 rounded-t-md flex relative justify-around">
									<form @submit.prevent="addNewTask" class="min-w-9/10">
										<input
											x-on:input.change.debounce.300ms='reviewTask()'
											x-model="input"
											class="w-full bg-blue-500 dark:bg-blue-700 italic text-base text-white placeholder-gray-200 focus:outline-none border-b-2"
											placeholder=" Enter new RSS feed URL..."
										/>
									</form>
									<svg x-cloak fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-white mt-2 ml-3 cursor-pointer" @click="addNewTask">
										<path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
									</svg>
								</div>

								<!-- rss-review-item -->
								<template id="tpl_review_feed" x-if="review_feed">
									<section class="rss-feed bg-white dark:bg-gray-800 mb-4 italic opacity-90">
										<a :name="review_feed.anchor" :href="review_feed.rss_url" target="_blank">
											<span class="inline-flex items-baseline pt-5 sm:pt-4 md:pt-8 px-5 sm:px-4 md:px-8">
												<img width="24" height="24" class="rss-favicon self-center w-6 h-6 mr-2 md:mr-4"
													:src="'https://www.google.com/s2/favicons?domain=' + new URL(review_feed.link).hostname +'&sz=128'"
													/>
												<h2 class="text-indigo-900 dark:text-indigo-200 font-bold mx-auto truncate"
													x-text="'[REVIEW] ' + review_feed.rss_url"></h2>
											</span>
										</a>
										<div class="max-w-screen-2xl mx-auto p-3 sm:p-8 md:p-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-6">
											<!-- rss-item -->
											<template x-for="(item, itemIndex) in review_feed.items" :key="itemIndex">
												<div class="rss-item bg-slate-50 dark:bg-slate-800 overflow-hidden">
													<!-- thumbnail -->
													<template x-if="item.images?.[0]?.length">
														<div class="rss-meta relative min-h-48">
															<link rel="prefetch" as="image" :href="item.images[0]" />
															<img width="240" height="240"
																class="rss-thumb w-full min-h-24 max-h-48"
																loading="eager"
																fetchpriority="high"
																:src="item.images[0]"
																:alt="item.title"
															/>
															<div
																class="transition duration-300 absolute bottom-0 top-0 right-0 left-0 bg-gray-900 opacity-25">
															</div>
															<div class="absolute bottom-0 left-0 bg-indigo-600 dark:bg-indigo-400 px-4 py-2 text-white dark:text-gray-900 text-sm transition duration-500 ease-in-out"
																x-html="(timeSince(new Date(item.published)) + ' ago')">
															</div>
														</div>
													</template>
													<!-- title & description -->
													<div class="p-4">
														<p class="rss-title inline font-semibold max-w-full text-lg mb-2 text-indigo-800 dark:text-indigo-300 hover:text-indigo-600 dark:hover:text-indigo-200 transition duration-500 ease-in-out" x-html="item.title"></p>
													</div>
											</template>
										</div>
									</section>
								</template>

								<!-- List -->
								<div class="p-3">
									<span x-show="tasks.length <= 0" class="center italic text-gray-400 dark:text-gray-500 px-2">
										<p>RSS is <strong>Really Simple Syndication</strong>, allows to access updates to websites in a standardized format, e.g: </p>
										<ul class="ml-6 my-2 list-disc">
											<template x-for="(d, idxDf) in K.DEFAULTS" :key="idxDf">
												<li><p x-html="d" class="break-words overflow-wrap text-wrap"></p></li>
											</template>
										</ul>
									</span>

									<div @drop.prevent="
										if (drag !== null && drop !== null) {
											if (drag < drop)
												tasks = [
													...tasks.slice(0, drag),
													...tasks.slice(drag + 1, drop + 1),
													tasks[drag],
													...tasks.slice(drop + 1)
												];
											else
												tasks = [
													...tasks.slice(0, drop),
													tasks[drag],
													...tasks.slice(drop, drag),
													...tasks.slice(drag + 1)
												];
											storageSet(K.tasks, tasks);
										};
										drop = null;
										"
										@dragover.prevent="$event.dataTransfer.dropEffect = 'move'"
									>
										<template x-for="(item, index) in tasks" :key="index">
											<div class="rss-task-item p-2 bg-gray-200 dark:bg-gray-600 mt-2 rounded flex items-center relative"
												:class="{'bg-blue-300 dark:bg-blue-500': drag === index}"
												style="overflow-wrap: anywhere;"
												draggable="true" @dragstart="drag = index" @dragend="drag = null"
											>
												<svg x-cloak fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-1 mr-2">
													<path stroke-linecap="round" stroke-linejoin="round" d="M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z" />
												</svg>
												<div class="mx-2">
													<a :href="item.url" target="_blank"><span x-text="'[' + (index+1) + '] '+ item.url"></span></a>
												</div>
												<svg x-cloak fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor"
													class="w-3 h-3 cursor-pointer text-red-500"
													@click="tasks.splice(index, 1);storageSet(K.tasks, tasks);"
												>
													<path stroke-linecap="round" stroke-linejoin="round" d="M13.181 8.68a4.503 4.503 0 0 1 1.903 6.405m-9.768-2.782L3.56 14.06a4.5 4.5 0 0 0 6.364 6.365l3.129-3.129m5.614-5.615 1.757-1.757a4.5 4.5 0 0 0-6.364-6.365l-4.5 4.5c-.258.26-.479.541-.661.84m1.903 6.405a4.495 4.495 0 0 1-1.242-.88 4.483 4.483 0 0 1-1.062-1.683m6.587 2.345 5.907 5.907m-5.907-5.907L8.88 8.898M2.991 2.99 8.898 8.9" />
												</svg>

												<div class="absolute inset-0 opacity-50"
													:class="{'bg-blue-200 dark:bg-blue-400': drop === index}"
													x-show.transition="drag !== null"
													@dragenter.prevent="if (index !== drag) {drop = index}"
													@dragleave="if (drop === index) drop = null"
												></div>
											</div>
										</template>
									</div>

									<div class="w-full pt-4">
										<div class="flex items-center px-4 py-2">
											<div class="min-w-32">
												<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="settings-hash">
												Hash Identity
												</label>
											</div>
											<div class="w-full cursor-pointer">
												<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" id="settings-hash" type="text" x-model.debounce.500ms="params.x">
											</div>
										</div>
										<div class="flex items-center px-4 py-2">
											<div class="min-w-32">
												<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="settings-limit">
												Items per Feed
												</label>
											</div>
											<div class="w-full cursor-pointer">
												<select class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="settings-limit" x-model.number="params.l">
													<template x-for="lim in [3,6,9,12,15,20,24,30,36,48,64,100]">
														<option :value="lim" x-text="lim" :selected="params.l == lim"></option>
													</template>
												</select>
											</div>
										</div>
										<div class="flex items-center px-4 py-2">
											<div class="min-w-32">
												<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="settings-style">
												Display Style
												</label>
											</div>
											<div class="w-full cursor-pointer">
												<select class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="settings-style" x-model="params.s">
													<template x-for="sty in Object.keys(style_flags)">
														<option :value="sty" x-text="sty" :selected="params.s == sty"></option>
													</template>
												</select>
											</div>
										</div>
									</div>
								</div>

								<!-- Buttons -->
								<div class="bg-blue-500 dark:bg-blue-700 p-3 flex justify-end rounded-b-md space-x-4">
									<button
										class="cursor-pointer focus:outline-none uppercase text-xs text-blue-100 border-none bg-purple-600 dark:bg-purple-800 p-2 font-bold rounded shadow"
										x-show="tasks.length == 0"
										@click="importDefaults()"
									>
										Import Sample RSS
									</button>
									<button
										class="cursor-pointer focus:outline-none uppercase text-xs text-blue-100 border-none bg-rose-600 dark:bg-rose-800 px-4 py-2 font-bold rounded shadow"
										x-show="tasks.length > 0"
										@click="clearAllTasks()"
									>
										Clear
									</button>
									<button
										class="cursor-pointer focus:outline-none uppercase text-xs text-blue-100 border-none bg-emerald-500 dark:bg-emerald-700 px-4 py-2 font-bold rounded shadow"
										x-show="tasks.length > 0"
										@click="exportTasks()"
									>
										Export
									</button>
									<button
										class="cursor-pointer focus:outline-none uppercase text-xs text-blue-100 border-none bg-emerald-600 dark:bg-emerald-800 px-4 py-2 font-bold rounded shadow"
										x-show="tasks.length > 0"
										@click="saveTasks()"
									>
										Save
									</button>
								</div>
							</div>
						</template>
					</div>
				</div>

				<!-- declarations -->
				<div x-data="{
					html_declarations: function() {
						fetch('/components/declarations.html').then(r => r.text()).then(html => {this.$root.innerHTML = html});
					}
				}" x-init="html_declarations">
				</div>
			</div>

			<!-- errors -->
			<div class="flex gap-4 items-center mb-4 justify-self-center"><span x-show="debug" class="text-red-500" x-text="debug"></span></div>
		</main>

		<template id="tpl_footer" x-if="ready">
			<footer class="bg-gray-300 dark:bg-gray-800 p-4 mt-6 text-center text-xs text-stone-900 dark:text-stone-200">
				<blockquote class="m-2 text-sm italic">
					"In the Information Age, ignorance is a choice.", "It's not the news, it's HOW you get the news.", "We just decided to try to do it better."
				</blockquote>
				â€” <cite>Will McAvoy, The Newsroom by Aaron Sorkin</cite>
			</footer>
		</template>

		<div id="toast" class="fixed bottom-3 right-4 bg-slate-600 text-white text-sm pb-1 pt-2 px-2 rounded shadow transition-opacity duration-500 opacity-0 max-w-[350px]">
			<span id="toast-message" class="inline-block overflow-hidden text-ellipsis whitespace-nowrap max-w-full"></span>
		</div>

		<div id="modal" x-show="modal_showed" class="relative z-10" aria-labelledby="modal-prompt" role="dialog" aria-modal="true">
			<div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>
			<div class="fixed inset-0 z-10 w-screen overflow-y-auto">
				<div class="flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0">
					<div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
						<div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
							<div class="sm:flex sm:items-start">
								<div class="mx-auto flex w-12 h-12 shrink-0 items-center justify-center rounded-full bg-blue-100 sm:mx-0 sm:w-10 sm:h-10">
									<svg class="w-6 h-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon">
										<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
									</svg>
								</div>
								<div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left" >
									<h3 class="text-base font-semibold text-gray-900" id="modal-title" x-text="modal_title">
										Title
									</h3>
									<div class="mt-2">
										<p class="text-sm text-gray-500" id="modal-text" x-text="modal_text">
											Text.
										</p>
									</div>
								</div>
							</div>
						</div>
						<div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
							<button class="inline-flex w-full cursor-pointer justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-blue-500 sm:ml-3 sm:w-auto"
								id="modal-ok" x-text="modal_ok || 'OK'" type="button"
								@click="modalCallback(true)">
								OK
							</button>
							<button class="mt-3 inline-flex w-full cursor-pointer justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50 sm:mt-0 sm:w-auto"
								id="modal-cancel" x-text="modal_cancel || 'Cancel'" type="button"
								@click="modalCallback(false)">
								Cancel
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>


		<!-- <div id="scroll_to_top" x-data="{ is_visible: false }"
			x-init="window.addEventListener('scroll', () => { is_visible = window.scrollY > 1e3; })"
			x-show="is_visible"
			x-transition:enter="transition ease-out duration-300"
			x-transition:enter-start="opacity-0 transform translate-y-2"
			x-transition:enter-end="opacity-100 transform translate-y-0"
			x-transition:leave="transition ease-in duration-200"
			x-transition:leave-start="opacity-100 transform translate-y-0"
			x-transition:leave-end="opacity-0 transform translate-y-2"
			@click="window.scrollTo({ top: 0, behavior: 'smooth' })"
			class="fixed font-bold bottom-2 right-2 bg-green-500 text-white flex items-center justify-center h-10 w-10 rounded-full cursor-pointer opacity-80 hover:opacity-100 z-100"
		>â–²</div> -->

		<div id="anchor_jump" x-data="{
			_alBody: Alpine.$data(document.querySelector('body')),
			_alRead: Alpine.$data(document.querySelector('#expander_readlater')),

			is_open: false,
			anchors: [],
			refresh: function() {
				this.anchors = [...document.querySelectorAll('a.rss-feed-anchor')].map((a, i) => ({
					href: '#' + a.name,
					text: '# [' + (i + 1) + '] ' + (a.textContent || a.name || a.href).toLowerCase().substr(0, 100).trim() + (a.title ? (' - ' + a.title) : ''),
				}));

				this.anchors = [
					{href: '#home', text: '# [Home]'},
					...this.anchors,
					{href: '#bookmarks', text: '# [Bookmarks]'},
					{href: '#bookmarks_note', text: '# [Notes]'},
					{href: '#settings', text: '# [Settings]'},
					{href: '#declarations', text: '# [About v' + new URL(document.getElementById('version').src).searchParams.get('v') + ']'},
				];
			} }" 
			x-init="refresh()"
			class="fixed left-2 bottom-2 text-sm z-100"
		>
			<div x-show="is_open" @click.away="is_open = false" class="bg-stone-200 shadow-md rounded mb-2 overflow-y-auto max-h-128">
				<template x-for="(anchor, index) in anchors" :key="index">
					<a :href="anchor.href" class="block p-2 text-gray-800 hover:bg-stone-300" x-text="anchor.text" 
						@click="
							is_open = false;

							_alBody.loading = true;

							setTimeout(() => {
								_alRead.expanded = _alBody.is_hide_feeds = location.hash.includes('#bookmarks');

								const _alDecl = Alpine.$data(document.querySelector('#expander_declarations'));
								if (_alDecl) _alDecl.expanded = (location.hash == '#declarations');

								_alBody.loading = false;
							}, 100);
						">
					</a>
				</template>
			</div>
			<button @click="is_open = !is_open" class="bg-stone-500 hover:bg-stone-700 text-white font-bold p-2 px-4 flex items-center justify-center h-10 w-10 rounded-full cursor-pointer opacity-80 hover:opacity-100">
				<span x-show="!is_open">#</span>
				<span x-show="is_open">â–¼</span>
			</button>
		</div>

		<div id="g_id_onload"
			data-client_id="547832701518-ai09ubbqs2i3m5gebpmkt8ccfkmk58ru.apps.googleusercontent.com"
			data-context="use"
			data-ux_mode="popup"
			data-auto_prompt="false"
			data-use_fedcm_for_prompt="true"
			data-skip_prompt_cookie="SID"
			data-auto_select="true"
			data-itp_support="true"
			data-callback="handleGoogle1TapSignin">
		</div>
	</body>
</html>